(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(28),s=n.n(i),r=n(9),c=n(10),l=n(12),u=n(11),m=n(27),p=n(13),d=n(16),h=n(26),g=(n(25),n(15)),b=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault()},n.state={},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"page"},"LANDING PAGE")}}]),t}(a.Component),f=n(19),v=n.n(f),E=n(37),y=n.n(E),S=n(22),j=n.n(S),w=n(33),C=n.n(w),N=(n(49),n(50),n(51),n(52),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault()},n.chooseProblem=function(e,t,a,o,i,s){n.setState({active:e,currentProblem:{name:t,description:a,code:o},creatingProblem:s,time:new Date,canSubmit:!1,runcount:0,currentAttempts:0,output:i,canRun:!1,currentErrors:[],running:!1,problemComplete:!1}),fetch("/api/user/data/"+e,{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json()})).then((function(e){if(null!=e.data){var t=n.state.currentProblem;t.code=unescape(e.data.code),n.setState({currentProblem:t,problemComplete:e.data.complete,currentAttempts:e.data.attempts,output:unescape(e.data.output)})}})).catch((function(e){console.error(e),alert("Error checking token")}))},n.createProblem=function(){if(n.state.canSubmit){var e=prompt("Enter your password"),t=n.state.currentProblem.code;t=escape(t),fetch("/api/problems",{method:"POST",body:JSON.stringify({name:n.state.currentProblem.name,description:n.state.currentProblem.description,code:t,password:e,defaultOutput:n.state.output}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error(e.error)})).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.error(e),alert("Error logging in please try again")}))}else alert("Run your code first!")},n.deleteProblem=function(e){var t=prompt("Enter your password");fetch("/api/problems",{method:"DELETE",body:JSON.stringify({id:e,password:t}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw console.log(e),new Error(e.error)})).then((function(e){console.log(e),window.location.reload()})).catch((function(e){console.error(e),alert("Error logging in please try again")}))},n.submitCode=function(e){if(n.state.canSubmit){var t=prompt("Were any of the bugs challenging? If yes, why?");t&&""!==t?fetch("/api/submit",{method:"POST",body:JSON.stringify({id:e,studentMsg:t}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json();throw new Error(e.error)})).then((function(e){n.setState({problemComplete:!0})})).catch((function(e){console.error(e),alert("Error logging in please try again")})):alert("Please write an explanation.")}else alert("Run your code first!")},n.onChangeCode=function(e){var t=n.state.currentProblem;t.code=e,n.setState({currentProblem:t,canSubmit:n.state.runcount>0,canRun:!0})},n.onPassword=function(e){n.setState({password:e.target.value})},n.onChangeTitle=function(e){var t=n.state.currentProblem;t.name=e.target.value,n.setState({currentProblem:t})},n.onChangeDescription=function(e){var t=n.state.currentProblem;t.description=e.target.value,n.setState({currentProblem:t})},n.onChangeConsole=function(e){console.log(e),n.setState({output:e})},n.runCode=function(e){if(n.state.canRun){console.log(n.state.currentProblem.code.match(/(input\((.*)\))/g));var t=null!=n.state.currentProblem.code.match(/(input\((.*)\))/g),a=n.state.currentProblem.code.includes("import");if(t||a)alert('Do not use input("...") OR import!');else{n.setState({running:!0});var o=escape(n.state.currentProblem.code),i=new Date-n.state.time;i/=1e3;var s=Math.round(i);n.setState({canSubmit:!0,runcount:n.state.runcount+1}),fetch("/api/run",{method:"POST",body:JSON.stringify({id:e,code:o,elapsedTime:s}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(n.setState({running:!1}),200===e.status)return e.json();throw new Error(e.error)})).then((function(e){n.setState({output:e.output,currentAttempts:e.attempts})})).catch((function(e){console.error(e),alert("Error logging in please try again")}))}}else alert("Change the code before running!")},n.state={isAdmin:!1,problems:[],error:!1,active:"",currentProblem:{name:"",description:"",code:"# Survey: bit.ly/A20prev"},output:"",currentAttempts:0,creatingProblem:!1,canSubmit:!1,canRun:!1,password:"",time:0,problemComplete:!1,runcount:0,currentErrors:[],running:!0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/problems",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){if(200===t.status)return t.json();e.setState({error:!0})})).then((function(t){var n=t.data;n.forEach((function(e){return e.code=unescape(e.code)})),e.setState({problems:n})})).catch((function(e){console.error(e),alert("Error checking token")})),fetch("/api/checkToken",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json()})).then((function(t){t&&e.setState({isAdmin:t.isAdmin})})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"dash"},o.a.createElement("div",{className:"sidemenu dash-item"},o.a.createElement("div",{className:"problems-header"},"Problems"),this.state.problems.map((function(t){return o.a.createElement(v.a,{className:"problem",variant:e.state.active!==t.id?"outline-dark":"dark",key:t.id,disabled:e.state.active===t.id,onClick:function(){e.chooseProblem(t.id,t.name,t.description,t.code,t.defaultOutput,!1)}},t.name)})),this.state.isAdmin?o.a.createElement(v.a,{className:"problem",variant:"create-problem-button"!==this.state.active?"outline-danger":"danger",key:"create-problem-button",disabled:"create-problem-button"===this.state.active,onClick:function(){e.chooseProblem("create-problem-button","","","","",!0)}},"Add Problem"):o.a.createElement("span",null)),o.a.createElement("div",{className:"dash-content dash-item"},o.a.createElement("div",{className:"dash-content-item editor-container"},o.a.createElement("div",{className:"problem-status"},o.a.createElement("div",{className:"status-item"},this.state.problemComplete?o.a.createElement(j.a,{pill:!0,variant:"success"},"Complete"):o.a.createElement(j.a,{pill:!0,variant:"warning"},"Incomplete")),o.a.createElement("div",{className:"status-item"},""!==this.state.active&&this.state.running?o.a.createElement(j.a,{pill:!0,variant:"danger"},"Running..."):o.a.createElement("span",null))),o.a.createElement(C.a,{placeholder:"Enter python code",mode:"python",theme:"github",name:"editor",className:"editor",onLoad:this.onLoad,onChange:this.onChangeCode,fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:this.state.currentProblem.code,height:"95%",width:"99%",wrapEnabled:!0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:4,readOnly:""===this.state.active},key:this.state.active+"-editor",annotations:this.state.currentErrors})),o.a.createElement("div",{className:"dash-content-item right-side"},o.a.createElement("div",{className:"problem-info"},this.state.isAdmin&&this.state.creatingProblem?o.a.createElement(y.a.Control,{className:"title",type:"text",placeholder:"Enter problem title",onChange:this.onChangeTitle}):o.a.createElement("div",{className:"title"},this.state.currentProblem.name),this.state.isAdmin&&this.state.creatingProblem?o.a.createElement(y.a.Control,{className:"description",as:"textarea",rows:"3",onChange:this.onChangeDescription}):o.a.createElement("div",{className:"description"},this.state.currentProblem.description)),o.a.createElement("div",{className:"console"},o.a.createElement(C.a,{placeholder:"",mode:"json",theme:"github",name:"console",className:"console-editor",onLoad:this.onLoad,onChange:this.onChangeConsole,fontSize:12,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!1,value:this.state.output,height:"100%",width:"100%",wrapEnabled:!0,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!1,tabSize:2,readOnly:!this.state.creatingProblem}})),o.a.createElement(v.a,{className:"problem",variant:"danger",onClick:function(){e.runCode(e.state.active)},disabled:this.state.running},"Run Code"),this.state.isAdmin&&this.state.creatingProblem?o.a.createElement(v.a,{className:"problem",variant:"success",onClick:function(){e.createProblem()},disabled:""===this.state.active},"Submit Problem"):o.a.createElement(v.a,{className:"problem",variant:"primary",onClick:function(){e.submitCode(e.state.active)},disabled:""===this.state.active&&!1===this.state.canSubmit},"Submit"),this.state.isAdmin&&!this.state.creatingProblem?o.a.createElement(v.a,{className:"problem",variant:"dark",onClick:function(){e.deleteProblem(e.state.active)},disabled:""===this.state.active},"Delete Problem"):o.a.createElement("span",null))))}}]),t}(a.Component)),k=Object(h.f)(N),O=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault()},n.state={msg:"",isLoggedIn:!1,loading:!0,firstname:"",lastname:"",isAdmin:"",id:"",parentSet:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/checkToken",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){if(200===t.status)return e.setState({msg:"USER LOGGED IN!",isLoggedIn:!0,loading:!1}),t.json();e.setState({msg:"PLEASE LOGIN FIRST.",isLoggedIn:!1,loading:!1})})).then((function(t){console.log(t),t&&(e.setState({firstname:t.firstname,lastname:t.lastname}),e.setState({isAdmin:t.isAdmin}),e.setState({id:t.id}))})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=o.a.createElement("div",null,"LOADING...");return e=this.state.loading?e:this.state.isLoggedIn?o.a.createElement(k,null):o.a.createElement(b,null)}}]),t}(a.Component),A=Object(h.f)(O),I=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault(),fetch("/api/signin",{method:"POST",body:JSON.stringify(n.state),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return n.props.login(),n.props.history.push("/"),e.json();throw console.log(e),new Error(e.error)})).then((function(e){n.props.setName(e),n.props.setAdmin(e.isAdmin),n.props.setId(e.id)})).catch((function(e){console.error(e),alert("Error logging in please try again")}))},n.state={user:"",password:"",isLoggedIn:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/checkToken",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){if(200===t.status)return e.setState({isLoggedIn:!0}),t.json();e.setState({isLoggedIn:!1})})).then((function(e){console.log(e)})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"render",value:function(){var e=o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("h1",null,"Login Below!"),o.a.createElement("input",{type:"text",name:"user",placeholder:"Email or Username",value:this.state.user,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"submit",value:"Submit"}));return this.state.isLoggedIn?this.props.history.push("/"):e}}]),t}(a.Component),P=Object(h.f)(I),L=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault(),n.state.working||(n.setState({working:!0}),fetch("/api/signup",{method:"POST",body:JSON.stringify(n.state),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(n.setState({working:!1}),200===e.status)return n.props.login(),n.props.history.push("/"),e.json();throw new Error(e.error)})).then((function(e){n.props.setName(e),n.props.setAdmin(e.isAdmin),n.props.setId(e.id)})).catch((function(e){console.error(e),alert("Error logging in please try again")})))},n.state={email:"",username:"",password:"",firstname:"",lastname:"",type:0,isLoggedIn:!1,working:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/checkToken",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){200===t.status?e.setState({isLoggedIn:!0}):e.setState({isLoggedIn:!1})})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"render",value:function(){var e=o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("h1",null,"Login Below!"),o.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"text",name:"username",placeholder:"Student #",value:this.state.username,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"text",name:"firstname",placeholder:"First Name",value:this.state.firstname,onChange:this.handleInputChange,required:!0}),o.a.createElement("input",{type:"text",name:"lastname",placeholder:"Last Name",value:this.state.lastname,onChange:this.handleInputChange,required:!0}),o.a.createElement("select",{name:"type",value:this.state.type,onChange:this.handleInputChange},o.a.createElement("option",{value:0},"0"),o.a.createElement("option",{value:1},"1"),o.a.createElement("option",{value:2},"2")),o.a.createElement("input",{type:"submit",value:"Submit"})),t=this.state.isLoggedIn?this.props.history.push("/"):e;return o.a.createElement("div",null,o.a.createElement("h2",null,"Informed Consent Form & Registration "),o.a.createElement("div",null,o.a.createElement("strong",null,"Title:")," PYBUGGY Study"),o.a.createElement("div",null,o.a.createElement("strong",null,"Investigators:")," Brian Harrington, Rachel D\u2019souza, Angela Zavaleta Bernuy"),o.a.createElement("p",null,"I hereby consent to participate in a usability study conducted by the Investigators (listed above) as part of research conducted by the Department of Computer & Mathematical Sciences at the University of Toronto Scarborough."),o.a.createElement("p",null,"By clicking \u201cSubmit\u201d, I ",o.a.createElement("strong",null,"agree")," to participate in this study and the purpose of this study is to evaluate the usability and effectiveness of a new web application. Activity on this web application will be recorded. "),o.a.createElement("p",null,"By clicking \u201cSubmit\u201d, I ",o.a.createElement("strong",null,"understand")," that:"),o.a.createElement("ul",null,o.a.createElement("li",null,"The procedures to be used are the coding problems on the app and the questionnaires that will be filled out."),o.a.createElement("li",null,"The risks incurred by participating is possibly some frustration when completing the series of tasks."),o.a.createElement("li",null,"I may receive compensation in the form of a bonus mark in ",o.a.createElement("strong",null,"CSCA20")),o.a.createElement("li",null,"I am free to withdraw at any time during the study without the need to give any explanation or penalty."),o.a.createElement("li",null,"All materials and results will be kept confidential. Identifying information is collected for the sole purpose of attributing bonus marks. "),o.a.createElement("li",null,"I can contact the course instructor, Brian Harrington (brian.harrigton@utsc.utoronto.ca) or invigilator Rachel (rachel.dsouza@mail.utoronto.ca) with any questions or concerns.")),this.state.working?o.a.createElement(j.a,{pill:!0,variant:"danger"},"Registering..."):o.a.createElement("span",null),t)}}]),t}(a.Component),T=Object(h.f)(L),x=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault()},n.state={email:"",password:"",isLoggedIn:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.cookie="token=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;",fetch("/api/signout",{method:"POST",body:JSON.stringify(this.state),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){200===t.status?(e.setState({isLoggedIn:!1}),e.props.logout(),e.props.setName({firstname:"",lastname:""}),e.props.setAdmin(!1),e.props.setId(""),e.props.history.push("/")):e.setState({isLoggedIn:!0})})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"render",value:function(){return o.a.createElement("div",null,"Logged out!")}}]),t}(a.Component),D=Object(h.f)(x),R=n(24),M=n.n(R),G=n(64),B=n.n(G),z=(n(91),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a=t.value,o=t.name;n.setState(Object(g.a)({},o,a))},n.onSubmit=function(e){e.preventDefault()},n.chooseProblem=function(e,t,a,o,i,s){n.setState({active:e,currentProblem:{name:t,description:a,code:o,users:[]}}),fetch("/api/attempts/"+e,{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json()})).then((function(e){if(null!=e.data){var t=n.state.currentProblem;t.users=e.data,console.log(e),n.setState({currentProblem:t})}})).catch((function(e){console.error(e),alert("Error checking token")})),fetch("/api/user/data/"+e,{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json()})).then((function(e){if(null!=e.data){var t=n.state.currentProblem;t.code=unescape(e.data.code),n.setState({currentProblem:t,problemComplete:e.data.complete,currentAttempts:e.data.attempts,output:unescape(e.data.output)})}})).catch((function(e){console.error(e),alert("Error checking token")}))},n.downloadStats=function(e){n.setState({fetching:!0}),console.log("/api/problems/data/"+e),fetch("/api/problems/data/"+e,{headers:{Accept:"Content-Type, text/csv, */*","Content-Disposition":'attachment; filename="download-'+Date.now()+".csv"}}).then((function(e){if(n.setState({fetching:!1}),200===e.status)return e.text()})).then((function(e){var t=document.createElement("a"),n=new Blob([e],{type:"text/plain"});t.href=URL.createObjectURL(n),t.download="download-"+Date.now()+".csv",document.body.appendChild(t),t.click()}))},n.state={problemComplete:!1,fetching:!1,problems:[],active:"",currentProblem:{name:"",description:"",users:[]},code:"",console:"",email:"",user:{firstname:"",lastname:"",id:"",type:"",totalAttempts:0}},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/problems",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){if(200===t.status)return t.json();e.setState({error:!0})})).then((function(t){var n=t.data;n.forEach((function(e){return e.code=unescape(e.code)})),e.setState({problems:n})})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"selectUser",value:function(e,t){var n=this;console.log(e,t);var a=this.state.currentProblem;a.code=unescape(t.code),this.setState({currentProblem:a,output:unescape(t.output)}),this.setState({problemComplete:e.complete});var o=this.state.user;o.totalAttempts=e.attempts.length,this.setState({user:o}),fetch("/api/user/"+e.email,{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){if(200===e.status)return e.json()})).then((function(e){if(null!=e.data){var t=n.state.user;t.firstname=e.data.firstname,t.lastname=e.data.lastname,t.id=e.data._id,t.type=e.data.type,console.log(e,t),n.setState({user:t})}})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"render",value:function(){var e=this,t=this.state.fetching?o.a.createElement(v.a,{className:"dropdown-problems",variant:"danger",disabled:this.state.fetching},o.a.createElement("span",null,o.a.createElement(B.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",variant:"light"}),o.a.createElement("span",{className:"spacing"}),"Fetching ...")):o.a.createElement(v.a,{className:"dropdown-problems",variant:"success",onClick:function(){e.downloadStats(e.state.active)},disabled:this.state.fetching},"Download Stats"),n=""!==this.state.active?t:o.a.createElement("span",null);return o.a.createElement("div",{className:"dash"},o.a.createElement("div",{className:"sidemenu dash-item"},o.a.createElement(M.a,{className:"dropdown-problems"},o.a.createElement(M.a.Toggle,{variant:"info",className:"dropdown-problems-item",id:"dropdown-basic"},"Problems"),o.a.createElement(M.a.Menu,null,this.state.problems.map((function(t){return o.a.createElement(M.a.Item,{key:t.id,onClick:function(){e.chooseProblem(t.id,t.name,t.description,t.code,t.defaultOutput,!1)}},t.name)})))),0==this.state.currentProblem.users.length&&""!==this.state.active?o.a.createElement("div",null,"LOADING...."):n,this.state.currentProblem.users.map((function(t){return o.a.createElement(M.a,{className:"dropdown-problems dropdown-problems-user"},o.a.createElement(M.a.Toggle,{variant:"secondary",className:"dropdown-problems-item dropdown-problems-item-user",id:"dropdown-basic"},t.email),o.a.createElement(M.a.Menu,{className:"dropdown-menu"},t.attempts.map((function(n,a){return o.a.createElement(M.a.Item,{key:n.id,onClick:function(){e.selectUser(t,n)},className:"drop-item"},"Attempt "+a)}))))}))),o.a.createElement("div",{className:"dash-content dash-item"},o.a.createElement("div",{className:"dash-content-item editor-container"},o.a.createElement("div",{className:"problem-status"},o.a.createElement("div",{className:"status-item"},this.state.problemComplete?o.a.createElement(j.a,{pill:!0,variant:"success"},"Complete"):o.a.createElement(j.a,{pill:!0,variant:"warning"},"Incomplete")),o.a.createElement("div",{className:"status-item"},""!==this.state.active&&this.state.running?o.a.createElement(j.a,{pill:!0,variant:"danger"},"Running..."):o.a.createElement("span",null)),o.a.createElement("div",{className:"status-item"},this.state.user.firstname),o.a.createElement("div",{className:"status-item"},this.state.user.lastname),o.a.createElement("div",{className:"status-item"},"id: "+this.state.user.id),o.a.createElement("div",{className:"status-item"},"type: "+this.state.user.type),o.a.createElement("div",{className:"status-item"},"Total Attempts: "+this.state.user.totalAttempts)),o.a.createElement(C.a,{placeholder:"Enter python code",mode:"python",theme:"github",name:"editor",className:"editor",onLoad:this.onLoad,onChange:this.onChangeCode,fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:this.state.currentProblem.code,height:"95%",width:"99%",wrapEnabled:!0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:4,readOnly:!0},key:this.state.active+"-editor",annotations:this.state.currentErrors})),o.a.createElement("div",{className:"dash-content-item right-side"},o.a.createElement("div",{className:"problem-info"},o.a.createElement("div",{className:"title"},this.state.currentProblem.name),o.a.createElement("div",{className:"description"},this.state.currentProblem.description)),o.a.createElement("div",{className:"console"},o.a.createElement(C.a,{placeholder:"",mode:"json",theme:"github",name:"console",className:"console-editor",onLoad:this.onLoad,onChange:this.onChangeConsole,fontSize:12,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!1,value:this.state.output,height:"100%",width:"100%",wrapEnabled:!0,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!1,tabSize:2,readOnly:!0}})))))}}]),t}(a.Component)),J=Object(h.f)(z),U=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={error:null,isLoaded:!1,isAdmin:!1,items:{},isLoggedIn:!1,firstname:"",lastname:"",id:"",refreshed:!0},n.login=n.login.bind(Object(m.a)(n)),n.logout=n.logout.bind(Object(m.a)(n)),n.setName=n.setName.bind(Object(m.a)(n)),n.setAdmin=n.setAdmin.bind(Object(m.a)(n)),n.setId=n.setId.bind(Object(m.a)(n)),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"login",value:function(){this.setState({isLoggedIn:!0})}},{key:"logout",value:function(){this.setState({isLoggedIn:!1})}},{key:"setName",value:function(e){this.setState(e)}},{key:"setId",value:function(e){this.setState({id:e})}},{key:"setAdmin",value:function(e){this.setState({isAdmin:e})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/checkToken",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){if(200===t.status)return e.setState({msg:"USER LOGGED IN!",isLoggedIn:!0,loading:!1}),t.json();e.setState({msg:"PLEASE LOGIN FIRST.",isLoggedIn:!1,loading:!1})})).then((function(t){t&&(e.setState({firstname:t.firstname,lastname:t.lastname}),e.setState({isAdmin:t.isAdmin}),e.setState({id:t.id}))})).catch((function(e){console.error(e),alert("Error checking token")}))}},{key:"render",value:function(){var e=this,t=this.state.isLoggedIn?o.a.createElement("div",{className:"nav-item"},o.a.createElement(d.b,{to:"/logout"},"Logout")):o.a.createElement("div",null,o.a.createElement("div",{className:"nav-item"},o.a.createElement(d.b,{to:"/login"},"Login")),o.a.createElement("div",{className:"nav-item"},o.a.createElement(d.b,{to:"/register"},"Register")));return o.a.createElement(d.a,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"nav"},o.a.createElement("div",{className:"logo"},"PyBuggy"),o.a.createElement("div",{className:"nav-cont"},""!==this.state.id?o.a.createElement("div",{className:"userID"},"ID: ",o.a.createElement("span",{className:"highlight"},this.state.id)):o.a.createElement("span",null),this.state.isAdmin?o.a.createElement("div",{className:"admin-tag"},"A"):o.a.createElement("span",null),o.a.createElement("div",{className:"firstname"},this.state.firstname),o.a.createElement("div",{className:"lastname"},this.state.lastname),o.a.createElement("div",{className:"nav-item"},o.a.createElement(d.b,{to:"/"},"Home")),this.state.isAdmin?o.a.createElement("div",{className:"nav-item"},o.a.createElement(d.b,{to:"/stats"},"Stats")):o.a.createElement("span",null),t)),o.a.createElement("div",{className:"content"},o.a.createElement(h.c,null,o.a.createElement(h.a,{exact:!0,path:"/",component:function(){return o.a.createElement(A,{login:e.login,logout:e.logout,setName:e.setName,setAdmin:e.setAdmin,setId:e.setId})}}),o.a.createElement(h.a,{exact:!0,path:"/login",component:function(){return o.a.createElement(P,{login:e.login,logout:e.logout,setName:e.setName,setAdmin:e.setAdmin,setId:e.setId})}}),o.a.createElement(h.a,{exact:!0,path:"/logout",component:function(){return o.a.createElement(D,{login:e.login,logout:e.logout,setName:e.setName,setAdmin:e.setAdmin,setId:e.setId})}}),o.a.createElement(h.a,{exact:!0,path:"/register",component:function(){return o.a.createElement(T,{login:e.login,logout:e.logout,setName:e.setName,setAdmin:e.setAdmin,setId:e.setId})}}),o.a.createElement(h.a,{exact:!0,path:"/stats",component:function(){return o.a.createElement(J,{login:e.login,logout:e.logout,setName:e.setName,setAdmin:e.setAdmin,setId:e.setId})}})))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},25:function(e,t,n){},52:function(e,t,n){},66:function(e,t,n){e.exports=n(110)},91:function(e,t,n){}},[[66,1,2]]]);
//# sourceMappingURL=main.9df75c6c.chunk.js.map